<!doctype html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover" />
  <title>Sueldo Vigilador</title>

  <!-- Android barras oscuras -->
  <meta name="color-scheme" content="dark light">
  <meta name="theme-color" content="#161821" media="(prefers-color-scheme: light)">
  <meta name="theme-color" content="#161821" media="(prefers-color-scheme: dark)">

  <link rel="stylesheet" href="style.css" />

  <style>
    /* üåê Burbuja flotante estilo Messenger */
    .chat-bubble {
      position: fixed;
      bottom: 20px;
      right: 20px;
      width: 60px;
      height: 60px;
      border-radius: 50%;
      background: #0084ff;
      display: flex;
      align-items: center;
      justify-content: center;
      cursor: pointer;
      box-shadow: 0 4px 10px rgba(0,0,0,0.3);
      z-index: 1000;
    }
    .chat-bubble img {
      width: 32px;
      height: 32px;
    }

    /* Modal del bot */
    #modal-bot {
      position: fixed;
      top: 0;
      left: 0;
      right:0;
      bottom:0;
      background: rgba(0,0,0,0.6);
      display: none;
      align-items: center;
      justify-content: center;
      z-index: 2000;
    }
    #modal-bot.show {
      display: flex;
    }
    #modal-bot .modal-card {
      width: 90%;
      height: 90%;
      background: #fff;
      border-radius: 12px;
      overflow: hidden;
      display: flex;
      flex-direction: column;
    }
    #modal-bot iframe {
      flex: 1;
      border: none;
      width: 100%;
      height: 100%;
    }
    #modal-bot .modal-actions {
      background: #f1f1f1;
      padding: 8px;
      text-align: right;
    }
  </style>
</head>
<body>
  <div id="app">
    <!-- MODAL de modo de c√°lculo -->
    <div class="modal show" id="modal-modo">
      <div class="modal-card">
        <div class="brand">
          <img src="https://cdn.jsdelivr.net/gh/sanavera/sueldo-vigilador-web@main/ic_launcher.png" alt="" />
          <h1>Sueldo <span>Vigilador</span></h1>
        </div>
        <p class="lead">¬øC√≥mo quer√©s calcular tu sueldo?</p>
        <p class="sub">Eleg√≠ la modalidad que us√°s para calcularlo de forma m√°s precisa.</p>
        <div class="btn-col">
          <button id="btn-modo-dias" class="btn btn-brand">Por d√≠as trabajados</button>
          <button id="btn-modo-horas" class="btn btn-accent">Por horas trabajadas</button>
          <button id="btn-acerca" class="btn btn-ghost">Acerca de</button>
        </div>
      </div>
    </div>

    <!-- CABECERA -->
    <header class="header">
      <div class="brand">
        <img src="https://cdn.jsdelivr.net/gh/sanavera/sueldo-vigilador-web@main/ic_launcher.png" alt="" />
        <h1>Sueldo <span>Vigilador</span></h1>
      </div>
      <button id="btn-nuevo" class="chip">Nuevo c√°lculo</button>
    </header>

    <!-- FORMULARIOS -->
    <main class="content">
      <!-- ... (tu contenido igual, no lo toqu√©) ... -->
    </main>

    <!-- MODAL Detalle -->
    <div class="modal" id="modal-detalle">...</div>

    <!-- MODAL Opciones avanzadas -->
    <div class="modal" id="modal-opciones">...</div>

    <!-- MODAL Acerca de -->
    <div class="modal" id="modal-acerca">...</div>

    <footer class="footer-text">Desarrollado por Sebasti√°n Sanavera ¬Æ</footer>
  </div>

  <!-- Burbuja flotante -->
  <div class="chat-bubble" id="btn-bot">
    <img src="https://cdn-icons-png.flaticon.com/512/134/134914.png" alt="Bot">
  </div>

  <!-- Modal del bot -->
  <div class="modal" id="modal-bot">
    <div class="modal-card">
      <div class="modal-actions">
        <button id="btn-cerrar-bot" class="btn">Cerrar</button>
      </div>
      <iframe id="botFrame"></iframe>
    </div>
  </div>

  <script src="app.js"></script>
  <script>
    // üü¶ Bot bubble
    const encodedUrl = "aHR0cHM6Ly9sbG0tY2hhdC1hcHAtdGVtcGxhdGUuc2FuYXZlcmE3OC53b3JrZXJzLmRldi8="; 
    const botFrame = document.getElementById("botFrame");
    const modalBot = document.getElementById("modal-bot");

    document.getElementById("btn-bot").addEventListener("click", () => {
      botFrame.src = atob(encodedUrl);
      modalBot.classList.add("show");
    });

    document.getElementById("btn-cerrar-bot").addEventListener("click", () => {
      modalBot.classList.remove("show");
      botFrame.src = "";
    });
  </script>
</body>
</html>
